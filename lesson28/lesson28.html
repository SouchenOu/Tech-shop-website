<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<!-------------Async : await -->
<body>
    <script>
        // Async always return a promise
        // await waits till promise is settled
        // error handling try/catch block

        const users = [
            {id : 1, name : 'john'},
            {id : 2, name : 'soukey'},
            {id : 3, name: 'Ahmed'},
        ]

        const articles = [
            {userId : 1, articles : ['one', 'two', 'three']},
            {userId : 2, artiles : ['four', 'five']},
            {userId : 3, articles: ['six', 'seven']}
        ]

        function getUser(name){
            return new Promise((resolve, reject)=>{
                const user = users.find((user)=>
                    user.name === name
                );
                console.log("user final", user);
                if(user)
                {
                    return resolve();
                }else{
                    return reject(`no such user with name ${name}`);
                }
            })
        }

        function getArticle(userId){
            return new Promise((resolve, reject)=>{
                const userArticles = articles.find((user)=>{user.userId === userId});
                if(userArticles)
                {
                    return resolve()
                }else{
                    reject(userArticles.articles);
                }
            })

        }
        const getData = async () =>{
            const user = await getUser('soukey');
            console.log("user Result is :", user);
        }
        getData();
        console.log("next1");
        console.log("next2");
    </script>
    
</body>
</html>